<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1600">
  <!-- å®šä¹‰æ ·å¼ -->
  <defs>
    <style>
      .layer-box { fill: #f0f4f8; stroke: #2d3748; stroke-width: 3; rx: 10; }
      .init-phase { fill: #e6f7ff; stroke: #1890ff; stroke-width: 4; rx: 10; }
      .execute-phase { fill: #f6ffed; stroke: #52c41a; stroke-width: 4; rx: 10; }
      .orchestrator { fill: #fff7e6; stroke: #fa8c16; stroke-width: 4; rx: 10; }
      .human-box { fill: #ffd700; stroke: #ff8c00; stroke-width: 3; rx: 10; }
      .skills-box { fill: #f0e6ff; stroke: #722ed1; stroke-width: 4; rx: 10; }

      .title-text { font-family: Arial, sans-serif; font-size: 32px; font-weight: bold; fill: #1a202c; }
      .subtitle-text { font-family: Arial, sans-serif; font-size: 20px; fill: #4a5568; }
      .section-title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; fill: #2d3748; }
      .small-text { font-family: Arial, sans-serif; font-size: 14px; fill: #4a5568; }

      .arrow { stroke: #2d3748; stroke-width: 3; fill: none; marker-end: url(#arrowhead); }
      .feedback-arrow { stroke: #eb2f96; stroke-width: 3; fill: none; marker-end: url(#feedback-arrowhead); stroke-dasharray: 8,4; }
      .skills-arrow { stroke: #722ed1; stroke-width: 2; fill: none; marker-end: url(#skills-arrowhead); stroke-dasharray: 6,3; }
    </style>

    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#2d3748" />
    </marker>
    <marker id="feedback-arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#eb2f96" />
    </marker>
    <marker id="skills-arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#722ed1" />
    </marker>

    <!-- HITLå›¾æ ‡ -->
    <symbol id="hitl-icon" viewBox="0 0 24 24">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" stroke="#ff8c00" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M6 21v-2a4 4 0 0 1 4 -4h2.5" stroke="#ff8c00" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M19.001 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" stroke="#ff8c00" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M19.001 15.5v1.5" stroke="#ff8c00" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M19.001 21v1.5" stroke="#ff8c00" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M22.032 17.25l-1.299 .75" stroke="#ff8c00" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M17.27 20l-1.3 .75" stroke="#ff8c00" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M15.97 17.25l1.3 .75" stroke="#ff8c00" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M20.733 20l1.3 .75" stroke="#ff8c00" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
    </symbol>
  </defs>

  <!-- æ ‡é¢˜ -->
  <text x="700" y="40" class="title-text" text-anchor="middle">åˆ†å±‚Agentic Loopæ¶æ„</text>
  <text x="700" y="70" class="subtitle-text" text-anchor="middle">è‡ªåŠ¨æ ·æœ¬åˆæˆç³»ç»Ÿ - è·¨å±‚è¿­ä»£ä¼˜åŒ–</text>

  <!-- Orchestrator -->
  <rect x="400" y="100" width="600" height="140" class="orchestrator" />
  <text x="700" y="130" class="section-title" text-anchor="middle">ğŸ¯ Orchestrator Agent</text>
  <text x="700" y="155" class="small-text" text-anchor="middle">å…¨å±€å†³ç­–ä¸­å¿ƒ | è¿­ä»£é¢„ç®—æ§åˆ¶ | æ™ºèƒ½é—®é¢˜è·¯ç”±</text>
  <text x="420" y="180" class="small-text">å†³ç­–æ—¶æœºï¼šLayer 4å½’å› å®Œæˆå</text>
  <text x="420" y="200" class="small-text">è·¯ç”±è§„åˆ™ï¼šè´¨é‡è¾¾æ ‡â†’è¾“å‡º | Layer2/3é—®é¢˜â†’è‡ªåŠ¨ä¿®å¤ | Layer1é—®é¢˜â†’HITL-4</text>
  <text x="420" y="220" class="small-text">åœæ­¢æ¡ä»¶ï¼šè´¨é‡â‰¥85% | æ”¶æ•›/éœ‡è¡ | Criticalé—®é¢˜&gt;30% | ç¡¬é™åˆ¶100æ¬¡</text>

  <!-- ç”¨æˆ·è¾“å…¥ -->
  <rect x="500" y="260" width="400" height="60" class="layer-box" />
  <text x="700" y="285" class="section-title" text-anchor="middle">ğŸ‘¤ ç”¨æˆ·è¾“å…¥</text>
  <text x="700" y="305" class="small-text" text-anchor="middle">ä¸šåŠ¡åœºæ™¯æè¿°</text>

  <path d="M 700 320 L 700 350" class="arrow" />

  <!-- Init Phaseæ ‡ç­¾ -->
  <rect x="250" y="350" width="120" height="40" class="init-phase" />
  <text x="310" y="375" class="section-title" text-anchor="middle">Init Phase</text>

  <!-- Layer 1 -->
  <rect x="400" y="360" width="600" height="100" class="init-phase" />
  <text x="700" y="390" class="section-title" text-anchor="middle">Layer 1: åœºæ™¯ç†è§£ä¸è®¾è®¡</text>
  <text x="420" y="415" class="small-text">ç”Ÿæˆï¼šunified_scenario_design.yaml | BusinessRules.md</text>
  <text x="420" y="435" class="small-text">æ¨¡å‹ï¼šClaude Sonnet 4.5 + Extended Thinking</text>

  <!-- HITL-1 -->
  <rect x="1030" y="370" width="280" height="80" class="human-box" />
  <use href="#hitl-icon" x="1040" y="380" width="24" height="24"/>
  <text x="1170" y="395" class="section-title" text-anchor="middle">HITL-1 (å¿…é¡»)</text>
  <text x="1050" y="415" class="small-text">äººå·¥Reviewåœºæ™¯è®¾è®¡</text>
  <text x="1050" y="432" class="small-text">100%è§¦å‘ | 10-20åˆ†é’Ÿ</text>

  <path d="M 700 460 L 700 490" class="arrow" />

  <!-- Execute Phaseæ ‡ç­¾ -->
  <rect x="250" y="490" width="120" height="40" class="execute-phase" />
  <text x="310" y="515" class="section-title" text-anchor="middle">Execute Phase</text>

  <!-- Layer 2 -->
  <rect x="400" y="500" width="600" height="100" class="execute-phase" />
  <text x="700" y="530" class="section-title" text-anchor="middle">Layer 2: ç»„ä»¶ä»£ç ç”Ÿæˆï¼ˆå¹¶è¡Œï¼‰</text>
  <text x="420" y="555" class="small-text">Tools | Checkers | Prototypes | æ•°æ®æ±  + è‡ªåŠ¨åŒ–å•å…ƒæµ‹è¯•</text>
  <text x="420" y="575" class="small-text">æ¨¡å‹ï¼šGPT-4o | è½¯é™åˆ¶10æ¬¡ | ç¡¬é™åˆ¶30æ¬¡</text>

  <!-- HITL-2æ ‡æ³¨ -->
  <rect x="1030" y="510" width="280" height="80" class="human-box" />
  <use href="#hitl-icon" x="1040" y="520" width="20" height="20"/>
  <text x="1170" y="540" class="section-title" text-anchor="middle">HITL-2 (æ¡ä»¶)</text>
  <text x="1050" y="560" class="small-text">æµ‹è¯•åå¤å¤±è´¥æ—¶ä»‹å…¥</text>
  <text x="1050" y="577" class="small-text">~5%è§¦å‘ | 5-15åˆ†é’Ÿ</text>

  <path d="M 700 600 L 700 630" class="arrow" />

  <!-- Layer 3 -->
  <rect x="400" y="640" width="600" height="100" class="execute-phase" />
  <text x="700" y="670" class="section-title" text-anchor="middle">Layer 3: æ ·æœ¬åˆæˆ</text>
  <text x="420" y="695" class="small-text">ç»„åˆå¼ç”Ÿæˆï¼šcoverage matrix + data pool + prompts</text>
  <text x="420" y="715" class="small-text">æ¨¡å‹ï¼šGPT-4o | è½¯é™åˆ¶20æ¬¡ | ç¡¬é™åˆ¶50æ¬¡</text>

  <path d="M 700 740 L 700 770" class="arrow" />

  <!-- Layer 4 -->
  <rect x="400" y="780" width="600" height="100" class="execute-phase" />
  <text x="700" y="810" class="section-title" text-anchor="middle">Layer 4: è‡ªåŠ¨è¯„æµ‹ä¸å½’å› </text>
  <text x="420" y="835" class="small-text">çœŸå®æ‰§è¡Œ + CheckeréªŒè¯ + LLMè¯„åˆ¤ + æ™ºèƒ½å½’å› </text>
  <text x="420" y="855" class="small-text">æ¨¡å‹ï¼šç›®æ ‡æ¨¡å‹ + Claude Sonnet 4.5 | è´¨é‡ç›®æ ‡â‰¥85%</text>

  <!-- HITL-3æ ‡æ³¨ -->
  <rect x="1030" y="790" width="280" height="80" class="human-box" />
  <use href="#hitl-icon" x="1040" y="800" width="20" height="20"/>
  <text x="1170" y="820" class="section-title" text-anchor="middle">HITL-3 (æ¡ä»¶)</text>
  <text x="1050" y="840" class="small-text">æ–°åœºæ™¯é¦–æ¬¡å½’å› æ ¡éªŒ</text>
  <text x="1050" y="857" class="small-text">~20%è§¦å‘ | 3-5åˆ†é’Ÿ</text>

  <!-- Orchestratorå†³ç­–åˆ¤æ–­ç‚¹ -->
  <path d="M 700 880 L 700 930" class="arrow" />
  <text x="720" y="910" class="small-text">Orchestratoråˆ†æå½’å› </text>

  <!-- åé¦ˆè·¯å¾„ï¼ˆç®€æ´ï¼‰ -->
  <g>
    <!-- åˆ°Layer 3 -->
    <path d="M 680 930 L 200 930 L 200 690 L 400 690" class="feedback-arrow" />
    <text x="180" y="810" class="small-text" fill="#eb2f96" transform="rotate(-90 180 810)">Layer 3é—®é¢˜</text>

    <!-- åˆ°Layer 2 -->
    <path d="M 680 930 L 160 930 L 160 550 L 400 550" class="feedback-arrow" />
    <text x="140" y="740" class="small-text" fill="#eb2f96" transform="rotate(-90 140 740)">Layer 2é—®é¢˜</text>

    <!-- åˆ°è´¨é‡è¾¾æ ‡ -->
    <path d="M 720 930 L 1100 930 L 1100 1050" class="arrow" />
    <text x="1000" y="920" class="small-text">è´¨é‡è¾¾æ ‡</text>

    <!-- åˆ°HITL-4 -->
    <path d="M 700 930 L 700 1010" class="arrow" />
    <text x="720" y="975" class="small-text">Layer 1é—®é¢˜</text>
  </g>

  <!-- HITL-4 -->
  <rect x="450" y="1010" width="500" height="100" class="human-box" />
  <use href="#hitl-icon" x="460" y="1020" width="24" height="24"/>
  <text x="700" y="1045" class="section-title" text-anchor="middle">HITL-4: Layer 1çº§åˆ«é—®é¢˜</text>
  <text x="470" y="1070" class="small-text">Criticalé—®é¢˜&gt;30%æˆ–åå¤å‡ºç° | ~15%è§¦å‘ | 15-30åˆ†é’Ÿ</text>
  <text x="470" y="1090" class="small-text">é€‰é¡¹ï¼šä¿®æ”¹Layer 1è®¾è®¡ OR æ¥å—å½“å‰ç»“æœ</text>

  <!-- ä»HITL-4å›åˆ°Layer 1 -->
  <path d="M 550 1010 L 550 960 L 1250 960 L 1250 410 L 1000 410" class="feedback-arrow" />
  <text x="1270" y="680" class="small-text" fill="#eb2f96">ä¿®æ”¹Layer 1</text>

  <!-- ä»HITL-4æ¥å—ç»“æœ -->
  <path d="M 850 1110 L 850 1150 L 1100 1150" class="arrow" />
  <text x="870" y="1135" class="small-text">æ¥å—ç»“æœ</text>

  <!-- æœ€ç»ˆè¾“å‡º -->
  <rect x="1100" y="1050" width="200" height="180" class="layer-box" />
  <text x="1200" y="1080" class="section-title" text-anchor="middle">ğŸ“Š æœ€ç»ˆè¾“å‡º</text>
  <text x="1120" y="1110" class="small-text">è¯„æµ‹æŠ¥å‘Š</text>
  <text x="1120" y="1135" class="small-text">å½’å› åˆ†æ</text>
  <text x="1120" y="1160" class="small-text">ä¼˜åŒ–å»ºè®®</text>
  <text x="1120" y="1185" class="small-text">è´¨é‡æŒ‡æ ‡</text>
  <text x="1120" y="1210" class="small-text">è¿­ä»£å†å²</text>

  <!-- SkillsçŸ¥è¯†åº“ -->
  <rect x="50" y="500" width="120" height="300" class="skills-box" />
  <text x="110" y="530" class="section-title" text-anchor="middle">ğŸ“š Skills</text>
  <text x="65" y="555" class="small-text">å‚è€ƒæ ·æœ¬</text>
  <text x="65" y="575" class="small-text">ä¸šåŠ¡è§„åˆ™</text>
  <text x="65" y="595" class="small-text">æ ¼å¼è§„èŒƒ</text>
  <text x="65" y="615" class="small-text">ä»£ç æ¨¡æ¿</text>
  <text x="65" y="635" class="small-text">è®¾è®¡æ¨¡å¼</text>
  <text x="65" y="655" class="small-text">ç»éªŒæ•™è®­</text>

  <path d="M 170 560 L 400 410" class="skills-arrow" />
  <path d="M 170 600 L 400 550" class="skills-arrow" />
  <path d="M 170 640 L 400 690" class="skills-arrow" />
  <path d="M 170 680 L 400 830" class="skills-arrow" />

  <!-- å›¾ä¾‹ -->
  <g transform="translate(50, 1300)">
    <text x="0" y="0" class="section-title">å›¾ä¾‹</text>
    <rect x="0" y="15" width="80" height="30" class="init-phase" />
    <text x="90" y="35" class="small-text">Init Phase</text>

    <rect x="200" y="15" width="80" height="30" class="execute-phase" />
    <text x="290" y="35" class="small-text">Execute Phase</text>

    <rect x="400" y="15" width="80" height="30" class="human-box" />
    <text x="490" y="35" class="small-text">HITLç‚¹</text>

    <line x1="600" y1="30" x2="680" y2="30" class="feedback-arrow" />
    <text x="690" y="35" class="small-text">åé¦ˆè·¯å¾„</text>

    <line x1="800" y1="30" x2="880" y2="30" class="skills-arrow" />
    <text x="890" y="35" class="small-text">çŸ¥è¯†æ¨è</text>

    <text x="0" y="70" class="small-text" font-weight="bold">4ä¸ªHITLç‚¹: HITL-1(100%) | HITL-2(~5%) | HITL-3(~20%) | HITL-4(~15%)</text>
  </g>

  <!-- åº•éƒ¨è¯´æ˜ -->
  <text x="700" y="1550" class="small-text" text-anchor="middle" font-weight="bold">æ ¸å¿ƒä¼˜åŠ¿ï¼š4ä¸ªç²¾å‡†HITLç‚¹ + è·¨å±‚è‡ªåŠ¨ä¿®å¤ + Orchestratoræ™ºèƒ½è·¯ç”± + SkillsçŸ¥è¯†å¤ç”¨ + åŠ¨æ€æ”¶æ•›åœæ­¢</text>
</svg>
