# 分析常见错误速查

## 错误分类概览

| 类别 | 错误数量 | 影响 |
|------|---------|------|
| 分析方法错误 | 6个 | 导致错误归因 |
| 归因判断错误 | 6个 | 分类不准确 |
| 证据使用错误 | 6个 | 结论不可信 |

---

## 1. 分析方法错误

### 错误1：跳过对话历史直接看结论

```markdown
❌ 只看checklist结果和final_state就下结论
❌ 基于summary而非原始对话分析

✅ 必须从conversation_history第一轮开始逐轮阅读
✅ 标记每轮的关键信息和转折点
```

### 错误2：基于prompt假设而非对话事实

```markdown
❌ 因为prompt设定用户要表达X，就认为用户表达了X
❌ 基于假设推断用户意图

✅ 只能基于对话历史中实际出现的内容归因
✅ 明确区分"用户实际说了什么"vs"prompt期望用户说什么"
```

### 错误3：忽略Agent是否给用户表达机会

```markdown
❌ 只关注用户没有表达需求，不考虑Agent是否给了机会

✅ 优先判断：Agent是否给了用户表达期望的机会？
✅ 如果Agent没给机会，问题可能在Agent而非用户
```

### 错误4：未验证final_state与操作意图的一致性

```markdown
❌ final_state异常时直接归因Agent能力问题
❌ 不查看工具实现代码

✅ 必须运用三层验证机制
✅ 先查看工具职责边界，再判断Agent操作完整性
```

### 错误5：只分析部分样本就得出整体结论

```markdown
❌ 分析了3个就假设其他都是类似问题
❌ 选择性挑选支持预设结论的样本

✅ 所有分析必须逐条进行
✅ 每个样本独立分析，不预设结论
```

### 错误6：重复之前的错误分析模式

```markdown
❌ 延续之前被指出错误的分析思路
❌ 不吸收反馈继续犯同样的错误

✅ 每次分析后反思和总结
✅ 根据反馈调整分析方法
```

---

## 2. 归因判断错误

### 错误7：将所有问题归因于模型能力不足

```markdown
❌ 不深入分析就认为是Agent能力问题
❌ 忽略样本设计、系统问题的可能性

✅ 按决策树系统化判断
✅ 充分考虑所有四类归因可能性
```

### 错误8：混淆prompt设计问题和执行问题

```markdown
❌ 不区分prompt本身设计问题vs执行时偏离prompt

✅ prompt设计问题 → 样本设计问题
✅ 执行时偏离prompt → 用户模拟器执行问题
```

### 错误9：混淆BusinessRules不明确和Agent遗漏

```markdown
❌ 规则未明确要求时归因Agent能力问题

✅ 规则明确要求但Agent未做 → Agent能力问题
✅ 规则未明确要求 → 样本设计问题
```

### 错误10：忽略工具职责边界

```markdown
❌ 状态未更新就认为是Agent问题
❌ 不查看工具是否应该负责该状态

✅ 先确认工具职责边界
✅ 工具应负责但未更新 → 系统问题
```

### 错误11：忽略Checker准确性问题

```markdown
❌ 直接信任Checker判断结果
❌ 不验证Checker条件是否与业务规则一致

✅ 验证Checker条件的合理性
✅ 对比Checker条件与BusinessRules
```

### 错误12：多活动场景未逐一验证

```markdown
❌ 只看整体结果不分析每个活动
❌ 假设所有活动的失败原因相同

✅ 多活动场景必须逐个活动分析
✅ 验证Agent是否对每个活动都进行了处理
```

---

## 3. 证据使用错误

### 错误13：未引用具体证据

```markdown
❌ 只给结论不给证据
❌ 使用模糊的证据描述

✅ 引用具体对话内容，标明轮次
✅ 引用具体JSON字段和值
```

### 错误14：证据与结论不匹配

```markdown
❌ 证据支持A但结论是B
❌ 证据不足以支撑结论

✅ 证据链必须完整
✅ 每个结论都要有直接支撑的证据
```

### 错误15：忽略矛盾证据

```markdown
❌ 只挑选支持结论的证据
❌ 忽略与结论矛盾的发现

✅ 必须考虑所有证据
✅ 如有矛盾需要解释
```

### 错误16：过度推断

```markdown
❌ 从有限证据得出过强的结论
❌ 使用可能、也许等模糊词汇作为结论

✅ 结论强度应与证据强度匹配
✅ 证据不足时应标明不确定性
```

### 错误17：引用错误的数据来源

```markdown
❌ 混淆final_state和expected_state
❌ 混淆user说的话和assistant说的话

✅ 仔细确认数据来源
✅ 明确标注数据出处
```

### 错误18：遗漏关键上下文

```markdown
❌ 引用对话片段但遗漏关键上下文
❌ 断章取义

✅ 引用时保留必要上下文
✅ 说明引用在对话中的位置
```

---

## 快速自检

分析完成后，检查是否犯了以下错误：

| 类别 | 检查项 |
|-----|-------|
| 方法 | 是否完整阅读了对话历史？ |
| 方法 | 是否基于事实而非假设？ |
| 方法 | 是否验证了final_state？ |
| 归因 | 是否考虑了所有四类归因？ |
| 归因 | 是否区分了设计问题vs执行问题？ |
| 归因 | 是否检查了工具职责边界？ |
| 证据 | 是否引用了具体证据？ |
| 证据 | 证据是否支撑结论？ |
| 证据 | 是否遗漏了矛盾证据？ |
