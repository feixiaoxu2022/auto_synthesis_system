# 场景模式探索（Brainstorm）

> 这里记录探索性的场景设计思路，尚未形成成熟方法论。待验证可行后再整合到正式设计模式中。

---

## 时间维度

| 模式 | 场景示例 | 评测难点 |
|-----|---------|---------|
| **异步定时** | 用户设定提醒/定时任务，系统到点主动触发 | 触发条件判断、时机准确性、状态管理 |
| **长周期任务** | 项目进度跟踪、健康管理计划、学习进度 | 跨会话记忆、状态持久化、进度更新 |
| **截止时效** | SLA超时处理、优惠券过期、申请时限 | 时效判断、过期处理、预警机制 |

---

## 角色维度

| 模式 | 场景示例 | 评测难点 |
|-----|---------|---------|
| **多角色协同** | 保险理赔（消费者+理赔员）、招聘（候选人+HR+面试官） | 角色权限、信息可见性、流程衔接 |
| **对手方交互** | 电商（买家vs卖家）、谈判（双方代理） | 利益冲突、公平中立、信息不对称 |
| **代理授权** | 老人委托子女办理、法人授权经办人 | 授权验证、权限范围、责任归属 |

---

## 资源维度

| 模式 | 场景示例 | 评测难点 | 状态 |
|-----|---------|---------|------|
| **竞争性资源** | 秒杀、会议室预约冲突、限量抢购 | 并发处理、公平性、一致性 | 待探索 |
| **优先级抢占** | 急诊抢占普通号、紧急工单插队 | 抢占逻辑、被抢占方处理 | 待探索 |
| ~~资源池管理~~ | ~~车辆调度、人员排班、库存分配~~ | ~~最优分配、动态调整、约束满足~~ | **已覆盖**（任务分配、广告投放、bikeshare） |

---

## 系统维度

| 模式 | 场景示例 | 评测难点 |
|-----|---------|---------|
| **级联影响** | 组织架构调整→审批链变化、价格调整→订单重算 | 级联完整性、副作用处理 |
| **回滚补偿** | 支付失败回滚、部分成功的批量操作 | 事务完整性、补偿顺序 |
| **降级容错** | 支付系统故障、外部API超时 | 降级策略、用户告知、恢复处理 |
| **多通道同步** | 用户在App+Web同时操作 | 状态同步、冲突检测 |

---

## 合规维度

| 模式 | 场景示例 | 评测难点 |
|-----|---------|---------|
| **审计追溯** | 金融交易记录、医疗操作日志 | 日志完整性、敏感操作授权 |
| **条件性授权** | 紧急越级审批、临时权限授予 | 条件判断、权限边界、事后追认 |
| **合规校验** | 反洗钱检测、数据出境审查 | 规则复杂度、例外处理 |

---

## 优先探索方向

基于评测价值和可行性的初步判断：

| 优先级 | 模式 | 理由 |
|-------|------|------|
| P0 | **异步定时 + 状态管理** | 测试Agent对时间敏感任务的处理，验证方式明确 |
| P0 | **多角色协同** | 测试复杂利益关系处理，真实业务价值高 |
| P1 | **级联影响** | 测试副作用预判和处理，可通过final_state验证 |
| P1 | **回滚补偿** | 测试错误恢复能力，事务完整性可验证 |
| P2 | **竞争性资源** | 需要模拟并发，评测框架可能需要扩展 |
| P2 | **条件性授权** | 规则复杂但可验证，需要设计好权限模型 |

---

## 待解决的评测框架问题

1. **异步场景如何触发？** - 需要时间模拟机制或事件驱动
2. **多角色如何切换？** - 用户模拟器需要支持多persona
3. **并发如何模拟？** - 当前框架是串行执行
4. **长周期状态如何持久化？** - 跨会话的记忆机制

---

## 记录区

（后续探索的具体想法可以记录在这里）
