# æ™ºèƒ½å¹¿å‘ŠæŠ•æ”¾ - ç°å®åŒ–ROIç›®æ ‡é©±åŠ¨çš„æ‹‰æ–°å¹¿å‘Šç³»åˆ—åˆ›å»ºåœºæ™¯
# åŸºäºçœŸå®ä¸šåŠ¡å®è·µï¼Œé‡ç‚¹æµ‹è¯•AgentåŸºäºå®é™…çº¦æŸåˆ¶å®šå¯è¡ŒæŠ•æ”¾ç­–ç•¥çš„èƒ½åŠ›
# åŸºäºunified_scenario_template.yamlè®¾è®¡ï¼Œç¡®ä¿æ¶æ„ä¸€è‡´æ€§

scenario_name: "æ™ºèƒ½å¹¿å‘ŠæŠ•æ”¾ - ç°å®åŒ–ROIç›®æ ‡é©±åŠ¨çš„æ‹‰æ–°ç³»åˆ—åˆ›å»º"
sub_scenario_type: "realistic_roi_targeted_campaign_creation"
description: "ç”¨æˆ·åŸºäºçœŸå®ä¸šåŠ¡æƒ…å†µæå‡ºæ‹‰æ–°éœ€æ±‚ï¼ŒAgentéœ€è¦åŸºäºå®¢æˆ·ç»éªŒæ°´å¹³ã€è¡Œä¸šç‰¹ç‚¹ã€é¢„ç®—çº¦æŸåˆ¶å®šç°å®å¯è¡Œçš„æŠ•æ”¾ç­–ç•¥"

# è¿è¡Œæ—¶é…ç½®
runtime_config:
  system_time: "2025-07-16T10:00:00Z"
  timezone: "Asia/Shanghai"
  current_date_description: "ä»Šå¤©æ˜¯2025å¹´7æœˆ16æ—¥ï¼Œå½“å‰æ—¶é—´æ˜¯10:00ï¼Œå·¥ä½œæ—¥ä¸Šåˆæ˜¯å¹¿å‘Šç­–ç•¥è§„åˆ’çš„é»„é‡‘æ—¶æ®µ"

# MCPæœåŠ¡é…ç½®
mcp_service_config:
  service_name: "ad_campaign_service"
  service_description: "å¹¿å‘ŠæŠ•æ”¾åˆ›å»ºæœåŠ¡ - åŸºäºå®é™…ä¸šåŠ¡çº¦æŸçš„ç­–ç•¥åˆ¶å®š"
  service_endpoint: "http://127.0.0.1:8405/mcp/"

# å®ä½“å®šä¹‰ - æ•°æ®æ± ç»“æ„è®¾è®¡
entities:
  # ä¸»å®ä½“ - å¹¿å‘Šä¸»/å®¢æˆ·
  advertisers:
    display_name: "å¹¿å‘Šä¸»"
    description: "æŠ•æ”¾å¹¿å‘Šçš„å®¢æˆ·ä¸»ä½“ï¼ŒåŒ…å«çœŸå®ä¸šåŠ¡ç‰¹å¾"
    id_field: "advertiser_id"
    sample_count: 15
    
    attributes:
      # åŸºç¡€ä¿¡æ¯
      name:
        type: "string"
        description: "å¹¿å‘Šä¸»å…¬å¸åç§°"
        
      # ğŸ”¥ è¡Œä¸šç±»å‹ï¼ˆå†³å®šæ¸ é“é€‰æ‹©çš„æ ¸å¿ƒå› ç´ ï¼‰
      industry:
        type: "enum"
        values: ["B2C_ecommerce", "B2B_saas", "education", "finance", "healthcare"]
        description: "æ‰€å±è¡Œä¸šï¼Œç›´æ¥å½±å“æ¸ é“é€‰æ‹©å’ŒROIé¢„æœŸ"
        distribution: {"B2C_ecommerce": 0.4, "B2B_saas": 0.3, "education": 0.2, "finance": 0.1}
        
      # å®¢æˆ·ç­‰çº§
      tier_level:
        type: "enum"
        values: ["startup", "growth", "enterprise"]
        description: "å…¬å¸å‘å±•é˜¶æ®µï¼Œå½±å“é¢„ç®—è§„æ¨¡å’Œé£é™©æ‰¿å—èƒ½åŠ›"
        distribution: {"startup": 0.4, "growth": 0.4, "enterprise": 0.2}
      
      # ğŸ”¥ æ ¸å¿ƒç‰¹å¾1ï¼šå›¢é˜ŸæŠ•æ”¾ç»éªŒï¼ˆå†³å®šROIç›®æ ‡çš„å…³é”®å› ç´ ï¼‰
      channel_experience_level:
        type: "enum"
        values: ["beginner", "intermediate", "expert"]
        description: "å›¢é˜Ÿå¹¿å‘ŠæŠ•æ”¾ç»éªŒæ°´å¹³ï¼Œç›´æ¥å½±å“ROIç›®æ ‡è®¾å®š"
        distribution: {"beginner": 0.4, "intermediate": 0.4, "expert": 0.2}
        business_logic: "æ–°æ‰‹å›¢é˜ŸROIç›®æ ‡åº”æ›´ä¿å®ˆï¼Œä¸“å®¶å›¢é˜Ÿå¯ä»¥è®¾å®šæ›´é«˜ç›®æ ‡"
      
      # ğŸ”¥ æ ¸å¿ƒç‰¹å¾2ï¼šç°é‡‘æµçŠ¶å†µï¼ˆå†³å®šé¢„ç®—ç­–ç•¥çš„å…³é”®å› ç´ ï¼‰
      cash_flow_situation:
        type: "enum"
        values: ["tight", "stable", "abundant"]
        description: "å…¬å¸ç°é‡‘æµçŠ¶å†µï¼Œå½±å“æŠ•æ”¾ç­–ç•¥å’Œé£é™©æ‰¿å—åº¦"
        distribution: {"tight": 0.3, "stable": 0.5, "abundant": 0.2}
        business_logic: "ç°é‡‘æµç´§å¼ éœ€è¦å¿«é€Ÿè§æ•ˆï¼Œå……è£•å¯ä»¥å°è¯•é•¿æœŸç­–ç•¥"
      
      # ğŸ”¥ æ ¸å¿ƒç‰¹å¾3ï¼šç›®æ ‡ç”¨æˆ·ç¾¤ä½“ï¼ˆå½±å“æ¸ é“é€‰æ‹©ï¼‰
      primary_target_audience:
        type: "object"
        description: "ä¸»è¦ç›®æ ‡å®¢æˆ·ç¾¤ä½“ç‰¹å¾"
        properties:
          user_type: 
            type: "enum"
            values: ["consumers", "business_users", "professionals", "students"]
          age_category:
            type: "enum"
            values: ["young_adults_18_35", "middle_aged_35_50", "mature_50_plus"]
          decision_making_style:
            type: "enum"
            values: ["impulse_driven", "research_driven", "relationship_driven"]
      
        
      monthly_ad_budget_capacity:
        type: "float"
        range: [8000, 50000]
        description: "æœˆåº¦å¹¿å‘Šé¢„ç®—æ‰¿å—èƒ½åŠ›"
        tier_based: {
          "startup": [8000, 20000],
          "growth": [15000, 35000],
          "enterprise": [25000, 50000]
        }
      
      
      contact_email:
        type: "string"
        default: "marketing@example.com"
        
      registration_time:
        type: "datetime"
        description: "å®¢æˆ·æ³¨å†Œæ—¶é—´"
    
    relationships:
      - has_many: "campaigns"

  # å¹¿å‘Šæ´»åŠ¨å®ä½“
  campaigns:
    display_name: "å¹¿å‘Šæ´»åŠ¨"
    description: "åˆ›å»ºçš„æ‹‰æ–°å¹¿å‘Šæ´»åŠ¨"
    id_field: "campaign_id"
    sample_count: 18
    
    attributes:
      campaign_name:
        type: "string"
        description: "æ´»åŠ¨åç§°"
        
      campaign_type:
        type: "enum"
        values: ["user_acquisition"]
        description: "å›ºå®šä¸ºç”¨æˆ·è·å–ç±»å‹"
        default: "user_acquisition"
      
      # ğŸ”¥ ç°å®åŒ–ROIç›®æ ‡ï¼ˆåŸºäºç°é‡‘æµ+ç»éªŒæ°´å¹³ç»„åˆï¼‰
      target_roi:
        type: "float"
        range: [1.8, 3.8]
        description: "ROIç›®æ ‡ï¼ŒåŸºäºç°é‡‘æµçŠ¶å†µå’Œç»éªŒæ°´å¹³çš„åˆ†å±‚çŸ©é˜µè®¾å®š"
        cash_flow_experience_matrix: {
          "tight": {
            "beginner": 1.8,
            "intermediate": 2.0,
            "expert": 2.2
          },
          "stable": {
            "beginner": 2.0,
            "intermediate": 2.8,
            "expert": 3.5
          },
          "abundant": {
            "beginner": 2.5,
            "intermediate": 3.0,
            "expert": 3.8
          }
        }
        validation_rule: "å¿…é¡»ä¸advertiserçš„cash_flow_situationå’Œchannel_experience_levelç»„åˆåŒ¹é…"
        
      # é¢„ç®—é…ç½®
      total_budget:
        type: "float"
        range: [8000.0, 50000.0]
        description: "æ€»é¢„ç®—"
        tier_based: {
          "startup": [8000.0, 20000.0],
          "growth": [15000.0, 35000.0],
          "enterprise": [25000.0, 50000.0]
        }
      
      
      # æ¸ é“é¢„ç®—åˆ†é…ï¼ˆå®é™…æ•°æ®ç»“æ„ï¼šchannel_budgetså¯¹è±¡ï¼‰
      channel_budgets:
        type: "object"
        description: "æ¸ é“é¢„ç®—åˆ†é…å¯¹è±¡ï¼Œkeyä¸ºchannel_idï¼Œvalueä¸ºé¢„ç®—é‡‘é¢"
        properties:
          channel_001: {"type": "float", "description": "Googleæ¸ é“é¢„ç®—åˆ†é…"}
          channel_002: {"type": "float", "description": "Facebookæ¸ é“é¢„ç®—åˆ†é…"}  
          channel_003: {"type": "float", "description": "TikTokæ¸ é“é¢„ç®—åˆ†é…"}
          channel_004: {"type": "float", "description": "LinkedInæ¸ é“é¢„ç®—åˆ†é…"}
        example: {"channel_001": 3000.0, "channel_002": 16800.0}
      
      
      # ğŸ”¥ ç°å®åŒ–ç­–ç•¥ç±»å‹
      applied_strategy_type:
        type: "enum"
        values: ["cash_flow_conservative", "balanced_growth", "aggressive_scaling"]
        description: "å®é™…åº”ç”¨çš„ç­–ç•¥ç±»å‹ï¼ŒåŸºäºå®¢æˆ·ç°å®æƒ…å†µ"
      
      # é¢„æœŸè¡¨ç°ï¼ˆç°å®åŒ–ï¼‰
      expected_overall_roi:
        type: "float"
        range: [1.8, 4.0]
        description: "é¢„æœŸæ•´ä½“ROI"
        
      # æµ‹è¯•é¢„ç®—é¢„ç•™
      testing_reserve_budget:
        type: "float"
        range: [800.0, 5000.0]
        description: "é¢„ç•™ç”¨äºæµ‹è¯•å’Œä¼˜åŒ–çš„é¢„ç®—"
        calculation: "total_budget * 0.10 to 0.20"
      
        
      # æ´»åŠ¨çŠ¶æ€
      status:
        type: "enum"
        values: ["draft", "pending_approval", "testing", "optimizing"]
        description: "æ´»åŠ¨çŠ¶æ€"
        distribution: {"draft": 0.6, "pending_approval": 0.2, "testing": 0.15, "optimizing": 0.05}
      
      created_time:
        type: "datetime"
        description: "åˆ›å»ºæ—¶é—´"
        
      advertiser_id:
        type: "string"
        description: "å…³è”åˆ°advertisers"
    
    relationships:
      - belongs_to: "advertisers"

  # æ¸ é“å®ä½“ï¼ˆåŸºäºå®é™…ä¸šåŠ¡ç‰¹ç‚¹ï¼‰
  channels:
    display_name: "æŠ•æ”¾æ¸ é“"
    description: "å¯é€‰çš„å¹¿å‘ŠæŠ•æ”¾æ¸ é“ï¼ŒåŒ…å«çœŸå®ä¸šåŠ¡ç‰¹æ€§"
    id_field: "channel_id"
    sample_count: 4
    
    attributes:
      channel_name:
        type: "enum"
        values: ["google", "facebook", "tiktok", "linkedin"]
        description: "æ¸ é“åç§°"
      
      # å¯ç”¨çŠ¶æ€
      availability:
        type: "enum"
        values: ["available", "maintenance", "restricted"]
        description: "æ¸ é“å½“å‰çŠ¶æ€"
        distribution: {"available": 0.90, "maintenance": 0.05, "restricted": 0.05}
      
      # ğŸ”¥ åŸºäºå®é™…ä¸šåŠ¡çš„æ¸ é“ç‰¹æ€§
      startup_speed:
        type: "enum"
        values: ["fast", "medium", "slow"]
        description: "èµ·é‡é€Ÿåº¦ï¼Œå½±å“ç°é‡‘æµç´§å¼ å®¢æˆ·çš„é€‰æ‹©"
        channel_mapping: {
          "google": "fast",      # æœç´¢å¹¿å‘Šèµ·é‡æœ€å¿«
          "facebook": "medium",  # éœ€è¦å­¦ä¹ æœŸ
          "tiktok": "slow",      # å†…å®¹å‹ï¼Œéœ€è¦æ›´é•¿æµ‹è¯•æœŸ
          "linkedin": "slow"     # B2Bå†³ç­–å‘¨æœŸé•¿
        }
        
      business_suitability:
        type: "array"
        items: ["B2C_ecommerce", "B2B_saas", "education", "finance", "healthcare"]
        description: "é€‚åˆçš„ä¸šåŠ¡ç±»å‹"
        channel_mapping: {
          "google": ["B2C_ecommerce", "B2B_saas", "education", "finance", "healthcare"],
          "facebook": ["B2C_ecommerce", "education", "healthcare"],
          "tiktok": ["B2C_ecommerce"],
          "linkedin": ["B2B_saas", "finance", "education"]
        }
      
      # ç°å®çš„æœ€ä½æµ‹è¯•é¢„ç®—
      min_testing_budget:
        type: "float"
        description: "è·å¾—æœ‰æ•ˆæµ‹è¯•æ•°æ®çš„æœ€ä½é¢„ç®—è¦æ±‚"
        channel_mapping: {
          "google": 3000.0,    # æœç´¢å¹¿å‘Šæœ€ä½æµ‹è¯•é¢„ç®—
          "facebook": 3500.0,  # ç¤¾äº¤åª’ä½“å¹¿å‘Š
          "tiktok": 5000.0,    # å†…å®¹å‹å¹¿å‘Šéœ€è¦æ›´å¤šé¢„ç®—
          "linkedin": 4000.0   # B2Bå¹³å°æˆæœ¬è¾ƒé«˜
        }
      
      # é¢„æœŸROIèŒƒå›´ï¼ˆåŸºäºå®é™…æ•°æ®ï¼‰
      expected_roi_range:
        type: "object"
        description: "è¯¥æ¸ é“çš„çœŸå®ROIé¢„æœŸèŒƒå›´"
        properties:
          beginner: {"type": "object", "properties": {"min": {"type": "float"}, "max": {"type": "float"}}}
          intermediate: {"type": "object", "properties": {"min": {"type": "float"}, "max": {"type": "float"}}}
          expert: {"type": "object", "properties": {"min": {"type": "float"}, "max": {"type": "float"}}}
        channel_mapping: {
          "google": {
            "beginner": {"min": 1.8, "max": 2.5},
            "intermediate": {"min": 2.2, "max": 3.0},
            "expert": {"min": 2.8, "max": 3.8}
          },
          "facebook": {
            "beginner": {"min": 1.5, "max": 2.2},
            "intermediate": {"min": 2.0, "max": 2.8},
            "expert": {"min": 2.5, "max": 3.5}
          },
          "tiktok": {
            "beginner": {"min": 1.2, "max": 2.0},
            "intermediate": {"min": 1.8, "max": 2.8},
            "expert": {"min": 2.5, "max": 4.0}
          },
          "linkedin": {
            "beginner": {"min": 1.8, "max": 2.3},
            "intermediate": {"min": 2.2, "max": 2.9},
            "expert": {"min": 2.6, "max": 3.2}
          }
        }
    
    relationships:
      - has_many: "campaigns"


# ğŸ”¥ ç°å®åŒ–ä¸šåŠ¡è§„åˆ™ï¼šåŸºäºå®é™…çº¦æŸçš„ç­–ç•¥åˆ¶å®šè§„åˆ™
business_rules:
  rule_4_1:
    description: "åŸºäºå®¢æˆ·å®é™…æƒ…å†µåˆ¶å®šç°å®å¯è¡Œçš„ROIç›®æ ‡å’ŒæŠ•æ”¾ç­–ç•¥"
    difficulty: "high"
    trigger_type: "user_request"
    
    # ğŸ”¥ ç°å®åŒ–ç­–ç•¥è§„åˆ™çŸ©é˜µ
    realistic_strategy_rules:
      
      # ç°é‡‘æµç´§å¼ å‹å®¢æˆ·ç­–ç•¥
      cash_flow_conservative:
        description: "ç°é‡‘æµç´§å¼ ï¼Œéœ€è¦å¿«é€Ÿè§æ•ˆçš„å®¢æˆ·"
        selection_criteria:
          - "advertiser.cash_flow_situation == 'tight'"
          - "advertiser.channel_experience_level in ['beginner', 'intermediate']"
        
        strategy_requirements:
          channel_selection_rule: "é€‰æ‹©1ä¸ªèµ·é‡æœ€å¿«çš„æ¸ é“ï¼ˆGoogleæœç´¢ä¼˜å…ˆï¼‰"
          max_channels_limit: 1
          roi_target_rule: "ROIç›®æ ‡è®¾å®šä¿å®ˆï¼ˆä¸è¶…è¿‡2.2ï¼‰"
          budget_allocation_rule: "70%ä¸»æŠ•æ”¾ï¼Œ30%å¿«é€Ÿä¼˜åŒ–é¢„ç•™"
          timeline_expectation: "60å¤©å†…å¿…é¡»çœ‹åˆ°æ­£å‘ROI"
          preferred_channels: ["google"]
        
        validation_rules:
          - "len(selected_channels) == 1"
          - "target_roi <= 2.2"
          - "'google' in selected_channels"
          - "testing_reserve_budget >= total_budget * 0.30"
          - "expected_breakeven_days <= 60"
      
      # å¹³è¡¡å¢é•¿å‹å®¢æˆ·ç­–ç•¥
      balanced_growth:
        description: "æœ‰ç¨³å®šç°é‡‘æµï¼Œè¿½æ±‚å¯æ§å¢é•¿çš„å®¢æˆ·"
        selection_criteria:
          - "advertiser.cash_flow_situation == 'stable'"
          - "advertiser.total_budget >= 15000"
        
        strategy_requirements:
          channel_selection_rule: "2ä¸ªæ¸ é“ç»„åˆï¼Œä¸»æ¬¡åˆ†æ˜"
          max_channels_limit: 2
          roi_target_rule: "åŸºäºç»éªŒæ°´å¹³è®¾å®šåˆç†ROIç›®æ ‡"
          budget_allocation_rule: "80/20åˆ†é…ç­–ç•¥ï¼Œä¸»æ¸ é“80%"
          innovation_allowance: "å¯å°è¯•1ä¸ªç›¸å¯¹è¾ƒæ–°çš„æ¸ é“"
          
        validation_rules:
          - "len(selected_channels) == 2"
          - "primary_channel_ratio >= 0.80"
          - "target_roi matches experience_level expectations"
          - "total_budget >= 15000"
      
      # æ¿€è¿›æ‰©å¼ å‹å®¢æˆ·ç­–ç•¥
      aggressive_scaling:
        description: "ç°é‡‘æµå……è£•ï¼Œè¿½æ±‚å¿«é€Ÿè§„æ¨¡åŒ–çš„å®¢æˆ·"
        selection_criteria:
          - "advertiser.cash_flow_situation == 'abundant'"
          - "advertiser.channel_experience_level in ['intermediate', 'expert']"
        
        strategy_requirements:
          channel_selection_rule: "å¯é€‰æ‹©2-3ä¸ªæ¸ é“ï¼ŒåŒ…æ‹¬åˆ›æ–°æ¸ é“"
          max_channels_limit: 3
          roi_target_rule: "å¯ä»¥è®¾å®šæ›´é«˜çš„ROIç›®æ ‡"
          budget_allocation_rule: "å…è®¸æ›´åˆ†æ•£çš„æŠ•æ”¾æµ‹è¯•"
          risk_acceptance: "å¯æ¥å—æ›´é•¿çš„æŠ•èµ„å›æ”¶æœŸ"
          
        validation_rules:
          - "len(selected_channels) >= 2 and len(selected_channels) <= 3"
          - "target_roi >= 2.5"
          - "total_budget >= 25000"
    
    # ğŸ”¥ åŸºäºè¡Œä¸šçš„æ¸ é“åŒ¹é…è§„åˆ™ï¼ˆç¡¬çº¦æŸï¼‰
    industry_channel_matching_rules:
      B2C_ecommerce:
        required_channels: ["facebook"]  # å¿…é¡»é€‰æ‹©Facebook
        optional_channels: ["google", "tiktok"]
        avoid_channels: []
        reason: "B2Cç”µå•†å¿…é¡»é€‰æ‹©Facebookï¼ˆç”¨æˆ·è¦†ç›–å¹¿ï¼‰ï¼Œå¯æ­é…Googleæˆ–TikTok"
        
      B2B_saas:
        required_channels: ["google"]  # å¿…é¡»é€‰æ‹©Google
        optional_channels: ["linkedin"]
        avoid_channels: ["tiktok"]
        reason: "B2B SaaSå¿…é¡»é€‰æ‹©Googleï¼ˆä¸“ä¸šæ€§å¼ºï¼‰ï¼Œå¯æ­é…LinkedInï¼Œé¿å…TikTok"
        
      education:
        required_channels: ["google"]  # å¿…é¡»é€‰æ‹©Google
        optional_channels: ["facebook"]
        avoid_channels: []
        reason: "æ•™è‚²è¡Œä¸šå¿…é¡»é€‰æ‹©Googleï¼ˆå†…å®¹æƒå¨æ€§ï¼‰ï¼Œå¯æ­é…Facebook"
        
      finance:
        required_channels: ["google"]  # å¿…é¡»é€‰æ‹©Google
        optional_channels: ["linkedin"]
        avoid_channels: []
        reason: "é‡‘èè¡Œä¸šå¿…é¡»é€‰æ‹©Googleï¼ˆä¸“ä¸šå¯ä¿¡åº¦ï¼‰ï¼Œå¯æ­é…LinkedIn"
        
      healthcare:
        required_channels: ["google"]  # å¿…é¡»é€‰æ‹©Google
        optional_channels: ["facebook"]
        avoid_channels: []
        reason: "åŒ»ç–—è¡Œä¸šå¿…é¡»é€‰æ‹©Googleï¼ˆæƒå¨æ€§è¦æ±‚ï¼‰ï¼Œå¯æ­é…Facebook"
    
    # ğŸ”¥ é¢„ç®—çº¦æŸçš„å®¢è§‚è§„åˆ™
    budget_constraint_rules:
      minimum_viable_budget:
        rule: "æ€»é¢„ç®—å¿…é¡»æ»¡è¶³è‡³å°‘1ä¸ªæ¸ é“çš„æœ‰æ•ˆæµ‹è¯•"
        validation: "total_budget >= max(selected_channels.min_testing_budget)"
        
      single_channel_threshold:
        rule: "é¢„ç®—ä½äº10000å…ƒå»ºè®®å•æ¸ é“é›†ä¸­"
        validation: "if total_budget < 10000 then len(selected_channels) == 1"
        reason: "å°é¢„ç®—åˆ†æ•£æŠ•æ”¾æ— æ³•è·å¾—æœ‰æ•ˆæ•°æ®"
        
      multi_channel_requirement:
        rule: "å¤šæ¸ é“æŠ•æ”¾æ¯ä¸ªæ¸ é“å¿…é¡»æ»¡è¶³æœ€ä½æµ‹è¯•é¢„ç®—"
        validation: "for each channel: allocated_budget >= channel.min_testing_budget"
        
      testing_reserve_requirement:
        rule: "å¿…é¡»é¢„ç•™10-30%é¢„ç®—ç”¨äºä¼˜åŒ–è°ƒæ•´"
        validation: "testing_reserve_budget >= total_budget * 0.10"
        reason: "æ²¡æœ‰ä¼˜åŒ–é¢„ç®—æ— æ³•åŸºäºæ•°æ®è°ƒæ•´ç­–ç•¥"
    
    
    # Agentæ‰§è¡Œæ­¥éª¤ - åŸºäºMCP Tools  
    required_actions:
      - action: "get_advertiser_info"
        description: "æŸ¥è¯¢å¹¿å‘Šä¸»çš„è¯¦ç»†ä¿¡æ¯ï¼ˆè¡Œä¸šã€ç»éªŒæ°´å¹³ã€ç°é‡‘æµçŠ¶å†µï¼‰"
        sequence: 1
        tool_type: "READ"
        
      - action: "get_channel_info"
        description: "æŸ¥è¯¢æ¸ é“ä¿¡æ¯å’Œçº¦æŸæ¡ä»¶ï¼ˆèµ·é‡é€Ÿåº¦ã€ä¸šåŠ¡é€‚ç”¨æ€§ã€æœ€ä½æµ‹è¯•é¢„ç®—ï¼‰"
        sequence: 2
        tool_type: "READ"
        
      
      - action: "create_campaign"
        description: "åˆ›å»ºæ–°çš„å¹¿å‘ŠæŠ•æ”¾æ´»åŠ¨ï¼Œåº”ç”¨åŸºäºçº¦æŸçš„ç­–ç•¥å†³ç­–å’Œç”¨æˆ·åé¦ˆ"
        sequence: 3
        tool_type: "CREATE"
        
      - action: "create_optimization_log"
        description: "è®°å½•æ´»åŠ¨åˆ›å»ºæ“ä½œæ—¥å¿—"
        sequence: 4
        tool_type: "CREATE"
        
      - action: "create_user_notification"
        description: "å‘é€æ´»åŠ¨åˆ›å»ºå®Œæˆé€šçŸ¥"
        sequence: 5
        tool_type: "CREATE"
    
    required_parameters:
      advertiser_id:
        type: "string"
        description: "å¹¿å‘Šä¸»å”¯ä¸€æ ‡è¯†ç¬¦"
        
      total_budget:
        type: "float"  
        description: "æ€»é¢„ç®—é‡‘é¢"
        constraints: "å¿…é¡»æ»¡è¶³æœ€ä½æµ‹è¯•é¢„ç®—è¦æ±‚"
    
    # ğŸ”¥ åŸºäºç°æœ‰checkerçš„åŸå­åŒ–æˆåŠŸéªŒè¯æ ‡å‡†
    success_criteria:
      - criteria: "campaign_creation_verified"
        description: "éªŒè¯æ–°çš„å¹¿å‘Šæ´»åŠ¨æˆåŠŸåˆ›å»º"
        checker_type: "create_operation_verified"
        checker_config:
          entity_type: "campaigns"
          filter_conditions:
            campaign_type: "user_acquisition"
          min_count: 1
          
      
      - criteria: "user_notification_sent"
        description: "éªŒè¯å‘é€äº†ç”¨æˆ·é€šçŸ¥"
        checker_type: "create_operation_verified"
        checker_config:
          entity_type: "user_notifications"
          filter_conditions:
            notification_type: "campaign_created"
          min_count: 1
          
      - criteria: "operation_logged"
        description: "éªŒè¯è®°å½•äº†æ“ä½œæ—¥å¿—"
        checker_type: "create_operation_verified"
        checker_config:
          entity_type: "optimization_logs"
          filter_conditions:
            operation_type: "campaign_creation"
          min_count: 1
      
      - criteria: "realistic_strategy_application"
        description: "Agentå¿…é¡»åŸºäºå®¢æˆ·å®é™…æƒ…å†µåº”ç”¨ç°å®å¯è¡Œçš„ç­–ç•¥"
        verification_method: "atomic_constraint_validation"
        
        # ğŸ”¥ ç°é‡‘æµçº¦æŸçš„åŸå­åŒ–éªŒè¯
        cash_flow_constraint_validations:
          # ç´§å¼ ç°é‡‘æµå®¢æˆ·çš„çº¦æŸéªŒè¯
          - validation_name: "tight_cash_flow_single_channel"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "cash_flow_situation"
              operator: "equals"
              expected_value: "tight"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets"
              operator: "dict_len_equals"
              expected_value: 1
              
          - validation_name: "tight_cash_flow_conservative_roi"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "cash_flow_situation" 
              operator: "equals"
              expected_value: "tight"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "target_roi"
              operator: "less_than_or_equal"
              expected_value: 2.2
              
          - validation_name: "tight_cash_flow_google_selected"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "cash_flow_situation"
              operator: "equals"
              expected_value: "tight"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_001"  # Google = channel_001
              operator: "greater_than"
              expected_value: 0
              
          
          # å……è£•ç°é‡‘æµå®¢æˆ·çš„çº¦æŸéªŒè¯
          - validation_name: "abundant_cash_flow_multi_channel"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "cash_flow_situation"
              operator: "equals"
              expected_value: "abundant"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets"
              operator: "dict_len_equals"
              expected_value: 2
              
          - validation_name: "abundant_cash_flow_higher_roi"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "cash_flow_situation"
              operator: "equals"
              expected_value: "abundant"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "target_roi"
              operator: "greater_than_or_equal"
              expected_value: 2.5
        
        # ğŸ”¥ ç»éªŒæ°´å¹³çº¦æŸçš„åŸå­åŒ–éªŒè¯
        experience_level_validations:
          - validation_name: "beginner_conservative_roi"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "channel_experience_level"
              operator: "equals"
              expected_value: "beginner"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "target_roi"
              operator: "equals"
              expected_value: 2.0
              
          - validation_name: "expert_ambitious_roi"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "channel_experience_level"
              operator: "equals"
              expected_value: "expert"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "target_roi"
              operator: "greater_than_or_equal"
              expected_value: 3.0
      
      # ğŸ”¥ è¡Œä¸šæ¸ é“åŒ¹é…çš„åŸå­åŒ–éªŒè¯
      - criteria: "industry_channel_alignment"
        description: "æ¸ é“é€‰æ‹©å¿…é¡»ç¬¦åˆè¡Œä¸šç‰¹ç‚¹å’Œå®¢è§‚æœ€ä½³å®è·µ"
        verification_method: "atomic_industry_alignment"
        
        industry_matching_validations:
          - validation_name: "B2B_saas_google_channel_selected"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "industry"
              operator: "equals"
              expected_value: "B2B_saas"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_001"
              operator: "greater_than"
              expected_value: 0
              
          - validation_name: "B2C_ecommerce_visual_channel"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "industry"
              operator: "equals"
              expected_value: "B2C_ecommerce"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_002"  # Facebook = channel_002
              operator: "greater_than"
              expected_value: 0
              
          - validation_name: "B2B_saas_avoid_tiktok"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "advertisers"
              entity_id: "[ä»ç”¨æˆ·è¾“å…¥è·å–]"
              attribute: "industry"
              operator: "equals"
              expected_value: "B2B_saas"
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_003"  # TikTok = channel_003
              operator: "equals"
              expected_value: 0
      
      # ğŸ”¥ é¢„ç®—çº¦æŸçš„åŸå­åŒ–éªŒè¯
      - criteria: "budget_constraint_compliance"
        description: "é¢„ç®—åˆ†é…å¿…é¡»æ»¡è¶³å®é™…å¯æ“ä½œçš„æœ€ä½è¦æ±‚"
        verification_method: "atomic_budget_validation"
        
        budget_validations:
          - validation_name: "sufficient_testing_budget"
            checker_type: "entity_attribute_comparison"
            entity_type: "campaigns"
            entity_id: "latest_created"
            attribute: "testing_reserve_budget"
            operator: "greater_than_or_equal"
            expected_value: 800
            
          - validation_name: "small_budget_single_channel"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "total_budget"
              operator: "less_than"
              expected_value: 10000
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets"
              operator: "dict_len_equals"
              expected_value: 1
              
          - validation_name: "google_channel_budget_sufficient"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_001"
              operator: "greater_than"
              expected_value: 0
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_001"
              operator: "greater_than_or_equal"
              expected_value: 3000
              
          - validation_name: "facebook_channel_budget_sufficient"
            condition_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_002"
              operator: "greater_than"
              expected_value: 0
            outcome_check:
              checker_type: "entity_attribute_comparison"
              entity_type: "campaigns"
              entity_id: "latest_created"
              attribute: "channel_budgets.channel_002"
              operator: "greater_than_or_equal"
              expected_value: 3500
    
    # æ ·æœ¬ç”Ÿæˆé…ç½®
    sample_generation:
      user_initiated: true
      creation_scenario: "åŸºäºå®é™…çº¦æŸçš„ç°å®åŒ–æ‹‰æ–°ç­–ç•¥åˆ¶å®š"
      
      # ç°å®åŒ–ç”¨æˆ·è¯·æ±‚æ¨¡æ¿ - è‡ªç„¶å¯¹è¯æ–¹å¼
      query_templates:
        - "æˆ‘ä»¬æƒ³åšä¸€ä¸ªæ‹‰æ–°æ´»åŠ¨ï¼Œé¢„ç®—å¤§æ¦‚{total_budget}å…ƒï¼Œè¯·å¸®æˆ‘åˆ¶å®šæŠ•æ”¾æ–¹æ¡ˆã€‚[å¹¿å‘Šä¸»IDï¼š{advertiser_id}]"
        - "å…¬å¸å‡†å¤‡æŠ•{total_budget}å…ƒåšç”¨æˆ·è·å–ï¼Œå¸Œæœ›èƒ½ç»™ä¸ªä¸“ä¸šçš„å»ºè®®ã€‚[å¹¿å‘Šä¸»IDï¼š{advertiser_id}]"
        - "è®¡åˆ’èŠ±{total_budget}å…ƒåšå¹¿å‘Šæ‹‰æ–°ï¼Œè¯·æ ¹æ®æˆ‘ä»¬çš„æƒ…å†µæ¨èåˆé€‚çš„ç­–ç•¥ã€‚[å¹¿å‘Šä¸»IDï¼š{advertiser_id}]"
      
      # ç°å®åŒ–çš„æµ‹è¯•å˜ä½“
      data_variations:
        - variation: "tight_cash_flow_beginner"
          description: "ç°é‡‘æµç´§å¼ çš„æ–°æ‰‹å®¢æˆ·"
          advertiser_config:
            cash_flow_situation: "tight"
            channel_experience_level: "beginner" 
            total_budget_range: [8000, 12000]
            industry: "B2C_ecommerce"
          expected_strategy: "å•æ¸ é“Facebookï¼ŒROIç›®æ ‡1.8ï¼Œ30%ä¼˜åŒ–é¢„ç•™"
          
        - variation: "stable_intermediate_B2B"
          description: "ç¨³å®šç°é‡‘æµçš„B2Bä¸­ç­‰ç»éªŒå®¢æˆ·"
          advertiser_config:
            cash_flow_situation: "stable"
            channel_experience_level: "intermediate"
            total_budget_range: [18000, 25000]
            industry: "B2B_saas"
          expected_strategy: "Google+LinkedInç»„åˆï¼ŒROIç›®æ ‡2.8ï¼Œ80/20åˆ†é…"
          
        - variation: "abundant_expert_scaling"
          description: "ç°é‡‘æµå……è£•çš„ä¸“å®¶çº§æ‰©é‡å®¢æˆ·"  
          advertiser_config:
            cash_flow_situation: "abundant"
            channel_experience_level: "expert"
            total_budget_range: [30000, 50000]
            industry: "B2C_ecommerce"
          expected_strategy: "å¤šæ¸ é“ç»„åˆï¼ŒROIç›®æ ‡3.8ï¼Œåˆ›æ–°æ¸ é“æµ‹è¯•"
      
      # AgentèŒè´£ï¼ˆç°å®åŒ–ï¼‰
      agent_responsibilities:
        - "å‡†ç¡®è¯†åˆ«å®¢æˆ·çš„å®é™…çº¦æŸæ¡ä»¶ï¼ˆç°é‡‘æµã€ç»éªŒã€é¢„ç®—ï¼‰"
        - "åŸºäºç»éªŒæ°´å¹³è®¾å®šç°å®å¯è¾¾çš„ROIç›®æ ‡"
        - "æ ¹æ®è¡Œä¸šç‰¹ç‚¹é€‰æ‹©æœ€é€‚åˆçš„æ¸ é“ç»„åˆ"
        - "åˆ¶å®šé˜¶æ®µåŒ–çš„é¢„ç®—åˆ†é…å’Œæ‰§è¡Œè®¡åˆ’"
        - "è¯†åˆ«å…³é”®é£é™©å¹¶æä¾›åº”æ€¥è°ƒæ•´æ–¹æ¡ˆ"
        - "ç¡®ä¿ç­–ç•¥åœ¨å®é™…çº¦æŸä¸‹å¯æ‰§è¡Œ"
      
      expected_outcome:
        type: "realistic_strategy_implementation"
        scenario_classification: "constraint_based_campaign_creation"

# Rule Engineæ‰§è¡Œé…ç½®
rule_execution_mapping:
  rule_4_1:
    scenario_type: "constraint_based_campaign_creation"
    explanation: "åŸºäºå®¢æˆ·å®é™…çº¦æŸåˆ¶å®šç°å®å¯è¡Œçš„æ‹‰æ–°æŠ•æ”¾ç­–ç•¥"
    method_name: "_calculate_realistic_campaign_creation_logic"
    expected_outcome_type: "realistic_strategy_implementation"
    complexity_level: "high"

# æ£€æŸ¥å™¨ç±»å‹æ˜ å°„ï¼ˆä»…ä½¿ç”¨ç°æœ‰checkerï¼Œæ— éœ€æ–°å¢HITLä¸“ç”¨checkerï¼‰
checker_type_mapping:
  entity_attribute_comparison: "entity_attribute_comparison_checker"
  create_operation_verified: "create_operation_verified_checker"
  # ğŸ”¥ æ³¨æ„ï¼šHITLéªŒè¯å®Œå…¨åŸºäºç°æœ‰checkerï¼Œæ— éœ€æ–°å¢ä¸“ç”¨éªŒè¯å™¨

# åœºæ™¯ç±»å‹æ˜ å°„
scenario_type_mapping:
  "realistic_strategy_implementation": "constraint_based_campaign_creation"

# ğŸ”¥ ç°å®åŒ–ç­–ç•¥é…ç½®çŸ©é˜µ
realistic_strategy_config:
  # åˆ†å±‚ROIçŸ©é˜µï¼ˆç°é‡‘æµçŠ¶å†µ + ç»éªŒæ°´å¹³ï¼‰
  layered_roi_matrix:
    tight:
      beginner: 1.8
      intermediate: 2.0
      expert: 2.2
    stable:
      beginner: 2.0
      intermediate: 2.8
      expert: 3.5
    abundant:
      beginner: 2.5
      intermediate: 3.0
      expert: 3.8
  
  # ç°é‡‘æµçŠ¶å†µ â†’ ç­–ç•¥ç±»å‹æ˜ å°„
  cash_flow_strategy_mapping:
    tight: "cash_flow_conservative"
    stable: "balanced_growth"
    abundant: "aggressive_scaling"
  
  # è¡Œä¸š â†’ å¿…é€‰æ¸ é“æ˜ å°„ï¼ˆç¡¬çº¦æŸï¼‰
  industry_required_channels:
    B2C_ecommerce: ["channel_002"]  # å¿…é¡»é€‰æ‹©Facebook (channel_002)
    B2B_saas: ["channel_001"]       # å¿…é¡»é€‰æ‹©Google (channel_001)
    education: ["channel_001"]      # å¿…é¡»é€‰æ‹©Google (channel_001)
    finance: ["channel_001"]        # å¿…é¡»é€‰æ‹©Google (channel_001)
    healthcare: ["channel_001"]     # å¿…é¡»é€‰æ‹©Google (channel_001)
  
  # æ¸ é“æ•°é‡çº¦æŸæ˜ å°„
  channel_count_constraints:
    small_budget_or_tight_cash: 1      # å°é¢„ç®—æˆ–ç°é‡‘æµç´§å¼ ï¼šåªèƒ½1ä¸ªæ¸ é“
    other_situations: [1, 2, 3]        # å…¶ä»–æƒ…å†µï¼šå¯ä»¥1-3ä¸ªæ¸ é“

# ä¸€è‡´æ€§éªŒè¯è§„åˆ™
consistency_rules:
  realistic_constraint_consistency:
    - rule: "ROIç›®æ ‡å¿…é¡»ä¸å›¢é˜Ÿç»éªŒæ°´å¹³åŒ¹é…"
    - rule: "æ¸ é“é€‰æ‹©å¿…é¡»ç¬¦åˆè¡Œä¸šç‰¹ç‚¹"
    - rule: "é¢„ç®—åˆ†é…å¿…é¡»æ»¡è¶³æœ€ä½æµ‹è¯•é¢„ç®—è¦æ±‚"
    - rule: "ç°é‡‘æµç´§å¼ å®¢æˆ·å¿…é¡»é€‰æ‹©èµ·é‡å¿«çš„æ¸ é“"
  
  budget_feasibility_consistency:
    - rule: "æ€»é¢„ç®—å¿…é¡»èƒ½æ”¯æ’‘é€‰æ‹©çš„æ¸ é“æ•°é‡"
    - rule: "æ¯ä¸ªæ¸ é“åˆ†é…é¢„ç®—ä¸å¾—ä½äºæœ€ä½æµ‹è¯•è¦æ±‚"
    - rule: "å¿…é¡»é¢„ç•™è¶³å¤Ÿçš„ä¼˜åŒ–è°ƒæ•´é¢„ç®—"
  
  timeline_expectation_consistency:
    - rule: "ç°é‡‘æµç´§å¼ å®¢æˆ·çš„æŠ•èµ„å›æ”¶æœŸé¢„æœŸæ›´çŸ­"
    - rule: "æ–°æ‰‹å›¢é˜Ÿçš„ä¼˜åŒ–å‘¨æœŸåº”è¯¥æ›´é•¿"
    - rule: "B2Bä¸šåŠ¡çš„è½¬åŒ–å‘¨æœŸå¤©ç„¶æ›´é•¿"

# åœºæ™¯å…ƒæ•°æ®
metadata:
  version: "2.0"
  sub_scenario_id: "constraint_based_campaign_creation"
  template_type: "realistic_constraint_based_scenario"
  complexity_level: "high"
  based_on: "2024-2025å¹´çœŸå®å¹¿å‘ŠæŠ•æ”¾ä¸šåŠ¡å®è·µå’Œå¸‚åœºæ•°æ®"
  design_principle: "ç°å®çº¦æŸé©±åŠ¨ï¼Œå®¢è§‚éªŒè¯æ ‡å‡†ï¼Œå¯æ‰§è¡Œç­–ç•¥"

# Rule Engineä»£ç ç”Ÿæˆé…ç½®  
code_generation_config:
  class_name: "RealisticCampaignCreationRuleEngine"
  scenario_abbreviation: "RCC"
  supported_entities: ["advertisers", "campaigns", "channels", "strategy_recommendations"]
  
  constraint_based_logic_support: true
  realistic_roi_calculation_methods: true
  industry_channel_matching_methods: true
  
  method_template: "_calculate_{method_name}_logic"
  constraint_template: "_validate_{constraint_type}_constraint"
  
  default_error_response:
    check_list: []
    environment_description: "ç°å®çº¦æŸéªŒè¯å¤±è´¥æˆ–ç­–ç•¥ä¸å¯è¡Œ"

# ç”Ÿæˆé€‰é¡¹
generation_options:
  sample_count_per_rule: 3  # æ¯ç§çº¦æŸç±»å‹ä¸€ä¸ªæ ·æœ¬
  include_edge_cases: true   # åŒ…å«è¾¹ç•Œçº¦æŸæƒ…å†µ
  generate_negative_samples: false
  auto_consistency_check: true
  realistic_constraint_samples: true